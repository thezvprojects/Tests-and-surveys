<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        
    </h:head>
    <h:body>
        <ui:composition template="common/common.xhtml">
            <ui:define name="content">
                <h:form>
            <h:dataTable value="#{usersController.users}" 
                         var="singleUser"
                         columnClasses="admincol1,admincol2,admincol3,admincol4,admincol5,
                         admincol6,admincol7,admincol8,admincol9,admincol10">
                <h:column>
                    <f:facet name="header">Name</f:facet>
                    <h:inputText style="width: 100px" value="#{singleUser.name}" rendered="#{singleUser.updateMode}"></h:inputText>
                    <h:outputText value="#{singleUser.name}" rendered="#{not singleUser.updateMode}"></h:outputText>               
                </h:column>
                <h:column>
                    <f:facet name="header">Surname</f:facet>
                    <h:inputText style="width: 100px" value="#{singleUser.surname}" rendered="#{singleUser.updateMode}"></h:inputText>
                    <h:outputText value="#{singleUser.surname}" rendered="#{not singleUser.updateMode}"></h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">Username</f:facet>
                    <h:inputText style="width: 100px" value="#{singleUser.username}" rendered="#{singleUser.updateMode}"></h:inputText>
                    <h:outputText value="#{singleUser.username}" rendered="#{not singleUser.updateMode}"></h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">Date of birth</f:facet>
                    <h:inputText style="width: 100px" value="#{singleUser.dateofbirth}" rendered="#{singleUser.updateMode}"></h:inputText>
                    <h:outputText value="#{singleUser.dateofbirth}" rendered="#{not singleUser.updateMode}"></h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">Place of birth</f:facet>
                    <h:inputText style="width: 100px" value="#{singleUser.placeofbirth}" rendered="#{singleUser.updateMode}"></h:inputText>
                    <h:outputText value="#{singleUser.placeofbirth}" rendered="#{not singleUser.updateMode}"></h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">JMBG</f:facet>
                    <h:inputText style="width: 100px" value="#{singleUser.JMBG}" rendered="#{singleUser.updateMode}"></h:inputText>
                    <h:outputText value="#{singleUser.JMBG}" rendered="#{not singleUser.updateMode}"></h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">Contact phone</f:facet>
                    <h:inputText style="width: 100px" value="#{singleUser.contactphone}" rendered="#{singleUser.updateMode}"></h:inputText>
                    <h:outputText value="#{singleUser.contactphone}" rendered="#{not singleUser.updateMode}"></h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">Email</f:facet>
                    <h:inputText style="width: 100px" value="#{singleUser.email}" rendered="#{singleUser.updateMode}"></h:inputText>
                    <h:outputText value="#{singleUser.email}" rendered="#{not singleUser.updateMode}"></h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">Type of user</f:facet>
                    <h:inputText style="width: 100px" value="#{singleUser.type}" rendered="#{singleUser.updateMode}"></h:inputText>
                    <h:outputText value="#{singleUser.type}" rendered="#{not singleUser.updateMode}"></h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">Delete from base</f:facet>
                    <h:commandButton value="Delete" action="#{usersController.adminDeleteUser(singleUser)}"
                                     rendered="#{not singleUser.isAdmin()}"></h:commandButton>
                </h:column>
                <h:column>
                    <f:facet name="header">Update user values</f:facet>
                    <h:selectBooleanCheckbox value="#{singleUser.updateMode}" onclick="submit()"></h:selectBooleanCheckbox>
                </h:column>
                <h:column>
                    <h:commandButton value="Approve" 
                                     action="#{usersController.approveRegistration(singleUser)}" 
                                     rendered="#{singleUser.checkRenderOnAdmin()}"></h:commandButton>
                </h:column>
                
                <h:column>
                    <h:commandButton value="Save"
                             action="#{usersController.adminSave(singleUser)}"
                             style="margin: 10px"></h:commandButton>
                </h:column>
            </h:dataTable>
            

        </h:form>
                
                <hr ></hr>
                <h:form>
                    <h:panelGrid id="panel" columns="2" border="0" 
                                     cellpadding="2" class="indexPanelClass">
                            <f:facet name = "header">
                                <h:outputText value = "Add a new user:"/>
                            </f:facet> 
                                <h:outputLabel value = "Name: " />
                                <h:inputText value="#{usersController.name}"></h:inputText>
                                <h:outputLabel value = "Surname: " />
                                <h:inputText value="#{usersController.surname}"></h:inputText>
                                <h:outputLabel value = "Username: " />
                                <h:inputText value="#{usersController.username}"></h:inputText>
                                <h:outputLabel value = "Password: " />
                                <h:inputSecret value="#{usersController.password}"></h:inputSecret>
                                <h:outputLabel value = "Confirm password: " />
                                <h:inputSecret value="#{usersController.passwordconf}"></h:inputSecret>
                                <h:outputLabel value = "Date of birth: " />
                                <h:inputText value="#{usersController.dateofbirth}"></h:inputText>
                                <h:outputLabel value = "Place of birth: " />
                                <h:inputText value="#{usersController.placeofbirth}"></h:inputText>
                                <h:outputLabel value = "JMBG: " />
                                <h:inputText value="#{usersController.JMBG}"></h:inputText>
                                <h:outputLabel value = "Contact phone: " />
                                <h:inputText value="#{usersController.contactphone}"></h:inputText>
                                <h:outputLabel value = "E-mail: " />
                                <h:inputText value="#{usersController.email}"></h:inputText>
                                <h:selectOneRadio required="true" value="#{usersController.type}">
                                    <f:selectItem itemValue="1" itemLabel="Examinee"/>
                                    <f:selectItem itemValue="2" itemLabel="Creator" /> 
                                </h:selectOneRadio>
                            <f:facet name = "footer">
                                <h:panelGroup style = "display:block; text-align:center">
                                    <h:commandButton id = "submit" value="Add user" action = "#{usersController.adminRegister()}" />
                                    <h:outputText value="#{usersController.poruka}"></h:outputText>
                                </h:panelGroup>                   
                            </f:facet>
                        </h:panelGrid>
                    <hr ></hr>
                    <h:commandButton value="Log out" action="#{usersController.logout()}"></h:commandButton>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
